webpackJsonp([6],{snES:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("02xr"),n=a("uxtY"),i=(a("+v9d"),{name:"driverTrip",data:function(){return{routeList:[],routeName:"",workdate:"",plateNum:"",timeTables:[],showMileageDialog:!1,mileageData:{},days:[]}},methods:{_getRouteLis:function(){var e=this;Object(r.r)().then(function(t){t.code==n.b&&(e.routeList=t.result,e.routeName=e.routeList[0])})},queryVehicleTrip:function(){var e=this,t={month:this.workdate,routeName:this.routeName};Object(r.y)(t).then(function(t){t.code==n.b&&(e.timeTables=e.handlerResult(t.result))})},handlerResult:function(e){var t=this.days;return e.forEach(function(e){for(var a=0;a<t.length;a++)void 0!=e[t[a].dayStr]&&null!=e[t[a].dayStr]||(e[t[a].dayStr]=0)}),console.log(e),e},dateChange:function(e){this.createDay()},routeChange:function(e){},createDay:function(){var e=this.workdate.split("-"),t=new Date(parseInt(e[0]),parseInt(e[1]),0).getDate(),a=new Date(parseInt(e[0]),parseInt(e[1])-1,1),r=[];r.push({id:-1,dayStr:"selfNum",width:90,day:"自编号"});for(var n=0;n<t;n++){var i=a.getDate()+n,o="v"+i;i<10&&(o="v0"+i);var s={id:n,width:80,dayStr:o,day:i+""};r.push(s)}r.push({id:-2,dayStr:"total",width:110,day:"合计"}),this.days=r,this.timeTables=[]}},created:function(){this._getRouteLis()}}),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"schedule-wrap"},[a("el-row",{staticClass:"schedule-panel"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择线路"},on:{change:e.routeChange},model:{value:e.routeName,callback:function(t){e.routeName=t},expression:"routeName"}},e._l(e.routeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM",placeholder:"选择月份"},on:{change:e.dateChange},model:{value:e.workdate,callback:function(t){e.workdate=t},expression:"workdate"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.queryVehicleTrip}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"500",size:"medium",data:e.timeTables,align:"center","highlight-current-row":""}},e._l(e.days,function(e){return a("el-table-column",{key:e.id,attrs:{prop:e.dayStr,label:e.day,width:e.width}})}))],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(e){a("wVWH")},"data-v-847760de",null);t.default=s.exports},wVWH:function(e,t){}});
//# sourceMappingURL=6.d004cdea2249975add89.js.map